# è§†é¢‘ç²’å­ç‰¹æ•ˆé—®ç­”æ¸¸æˆ - è®¾è®¡å¼€å‘æ–‡æ¡£

## ä¸€ã€é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®ç®€ä»‹

åœ¨ç°æœ‰çš„è§†é¢‘ç²’å­ç‰¹æ•ˆåŸºç¡€ä¸Šï¼Œå¼€å‘ä¸€ä¸ªå…³äº**å­™é¢–èæ¯”èµ›**çš„äº’åŠ¨é—®ç­”æ¸¸æˆã€‚æ¸¸æˆç»“åˆè§†é¢‘æ’­æ”¾å’Œç²’å­ç‰¹æ•ˆï¼Œ**åœ¨è§†é¢‘æ’­æ”¾å®Œæˆå**æå‡ºé—®é¢˜ï¼Œé—®é¢˜å†…å®¹å›´ç»•ï¼š
- å­™é¢–èçš„å¯¹æ‰‹æ˜¯è°ï¼Ÿ
- è¿™æ˜¯å­™é¢–èçš„å“ªåœºç»å…¸æ¯”èµ›ï¼Ÿ

ç”¨æˆ·é€šè¿‡é€‰æ‹©ç­”æ¡ˆè¿›è¡Œç­”é¢˜ï¼Œæœ€ç»ˆæ˜¾ç¤ºæ¸¸æˆæ€»ç»“ï¼ˆæ—¶é—´ã€å¾—åˆ†ç­‰ï¼‰ã€‚

### 1.2 æ ¸å¿ƒåŠŸèƒ½

- âœ… **è§†é¢‘æ’­æ”¾**ï¼šæ’­æ”¾å­™é¢–èæ¯”èµ›è§†é¢‘å¹¶æ˜¾ç¤ºç²’å­ç‰¹æ•ˆ
- âœ… **é—®ç­”ç³»ç»Ÿ**ï¼šè§†é¢‘æ’­æ”¾å®Œæˆåå¼¹å‡ºé—®é¢˜ï¼ˆå…³äºå¯¹æ‰‹ã€æ¯”èµ›åœºæ¬¡ç­‰ï¼‰
- âœ… **é€‰é¡¹äº¤äº’**ï¼šå››ä¸ªé€‰é¡¹ä¾›ç”¨æˆ·é€‰æ‹©
- âœ… **è®¡åˆ†ç³»ç»Ÿ**ï¼šç­”å¯¹åŠ ä¸€åˆ†ï¼Œå®æ—¶æ˜¾ç¤ºå¾—åˆ†
- âœ… **æ€»ç»“é¡µé¢**ï¼šæ¸¸æˆç»“æŸåæ˜¾ç¤ºæ€»æ—¶é—´ã€å¾—åˆ†ã€æ­£ç¡®ç‡ç­‰

### 1.3 æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç”¨é€” |
|------|------|
| **Next.js** | React æ¡†æ¶ |
| **Three.js** | è§†é¢‘ç²’å­ç‰¹æ•ˆæ¸²æŸ“ |
| **TypeScript** | ç±»å‹å®‰å…¨ |
| **Tailwind CSS** | æ ·å¼è®¾è®¡ |
| **React Hooks** | çŠ¶æ€ç®¡ç† |

---

## äºŒã€åŠŸèƒ½éœ€æ±‚

### 2.1 æ¸¸æˆæµç¨‹

```
å¼€å§‹æ¸¸æˆ
   â†“
æ’­æ”¾è§†é¢‘ï¼ˆæ˜¾ç¤ºç²’å­ç‰¹æ•ˆï¼‰
   â†“
è§†é¢‘æ’­æ”¾å®Œæˆ
   â†“
å¼¹å‡ºé—®é¢˜ï¼ˆ4ä¸ªé€‰é¡¹ï¼‰
   â†“
ç”¨æˆ·é€‰æ‹©ç­”æ¡ˆ
   â†“
æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆï¼ˆæ­£ç¡®/é”™è¯¯åé¦ˆï¼‰
   â†“
è¿›å…¥ä¸‹ä¸€é¢˜
   â†“
æ‰€æœ‰é¢˜ç›®ç­”å®Œ
   â†“
æ˜¾ç¤ºæ€»ç»“é¡µé¢ï¼ˆæ—¶é—´ã€å¾—åˆ†ã€æ­£ç¡®ç‡ï¼‰
```

**æ³¨æ„**ï¼šæ‰€æœ‰é—®é¢˜éƒ½åœ¨è§†é¢‘æ’­æ”¾å®Œæˆåè§¦å‘ï¼Œä¸å†åœ¨æ’­æ”¾è¿‡ç¨‹ä¸­æš‚åœæé—®ã€‚

### 2.2 åŠŸèƒ½æ¨¡å—

#### 2.2.1 è§†é¢‘æ’­æ”¾æ¨¡å—

- **åŠŸèƒ½**ï¼š
  - æ’­æ”¾å­™é¢–èæ¯”èµ›è§†é¢‘
  - æ˜¾ç¤ºç²’å­ç‰¹æ•ˆï¼ˆå¤ç”¨ç°æœ‰ `ShaderVideoParticle` ç»„ä»¶ï¼‰
  - æ˜¾ç¤ºè§†é¢‘ä¿¡æ¯ï¼ˆå¯¹æ‰‹ã€æ¯”èµ›åœºæ¬¡ï¼‰
  - æ˜¾ç¤ºæ’­æ”¾è¿›åº¦

- **äº¤äº’**ï¼š
  - è§†é¢‘æ’­æ”¾æ—¶ï¼Œç²’å­ç‰¹æ•ˆåŒæ­¥æ˜¾ç¤º
  - è§†é¢‘å®Œæ•´æ’­æ”¾ï¼Œä¸ä¸­æ–­
  - è§†é¢‘æ’­æ”¾å®Œæˆåè‡ªåŠ¨è¿›å…¥é—®ç­”ç¯èŠ‚

#### 2.2.2 é—®ç­”ç³»ç»Ÿæ¨¡å—

- **åŠŸèƒ½**ï¼š
  - è§†é¢‘æ’­æ”¾å®Œæˆåè§¦å‘é—®é¢˜
  - æ˜¾ç¤ºé—®é¢˜æ–‡æœ¬ï¼ˆå…³äºå­™é¢–èçš„å¯¹æ‰‹ã€æ¯”èµ›åœºæ¬¡ç­‰ï¼‰
  - æ˜¾ç¤º4ä¸ªé€‰é¡¹ï¼ˆAã€Bã€Cã€Dï¼‰
  - å¤„ç†ç”¨æˆ·é€‰æ‹©
  - æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆå’Œåé¦ˆ

- **äº¤äº’**ï¼š
  - ç‚¹å‡»é€‰é¡¹åç¦ç”¨æ‰€æœ‰é€‰é¡¹
  - æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆï¼ˆç»¿è‰²ï¼‰å’Œé”™è¯¯ç­”æ¡ˆï¼ˆçº¢è‰²ï¼‰
  - æ˜¾ç¤ºåé¦ˆä¿¡æ¯ï¼ˆ"å›ç­”æ­£ç¡®ï¼" / "å›ç­”é”™è¯¯ï¼Œæ­£ç¡®ç­”æ¡ˆæ˜¯..."ï¼‰
  - 2-3ç§’åè‡ªåŠ¨è¿›å…¥ä¸‹ä¸€é¢˜

#### 2.2.3 è®¡åˆ†ç³»ç»Ÿæ¨¡å—

- **åŠŸèƒ½**ï¼š
  - å®æ—¶æ˜¾ç¤ºå½“å‰å¾—åˆ†
  - ç­”å¯¹ä¸€é¢˜åŠ 1åˆ†
  - è®°å½•æ€»é¢˜æ•°å’Œæ­£ç¡®é¢˜æ•°
  - è®¡ç®—æ­£ç¡®ç‡

#### 2.2.4 æ€»ç»“é¡µé¢æ¨¡å—

- **åŠŸèƒ½**ï¼š
  - æ˜¾ç¤ºæ¸¸æˆæ€»æ—¶é•¿
  - æ˜¾ç¤ºæ€»å¾—åˆ†
  - æ˜¾ç¤ºæ€»é¢˜æ•°
  - æ˜¾ç¤ºæ­£ç¡®é¢˜æ•°
  - æ˜¾ç¤ºæ­£ç¡®ç‡
  - æ˜¾ç¤ºç­‰çº§è¯„ä»·ï¼ˆå¦‚ï¼šä¼˜ç§€ã€è‰¯å¥½ã€ä¸€èˆ¬ï¼‰
  - æä¾›é‡æ–°å¼€å§‹æŒ‰é’®

---

## ä¸‰ã€æ•°æ®ç»“æ„è®¾è®¡

### 3.1 é—®é¢˜æ•°æ®ç»“æ„

```typescript
interface Question {
  id: number                    // é—®é¢˜ID
  videoId: number              // å…³è”çš„è§†é¢‘ID
  question: string             // é—®é¢˜æ–‡æœ¬
  options: string[]            // é€‰é¡¹æ•°ç»„ï¼ˆ4ä¸ªé€‰é¡¹ï¼‰
  correctAnswer: number        // æ­£ç¡®ç­”æ¡ˆç´¢å¼•ï¼ˆ0-3ï¼‰
  explanation?: string         // ç­”æ¡ˆè§£æï¼ˆå¯é€‰ï¼‰
}

// ç¤ºä¾‹ - å…³äºå­™é¢–èçš„é—®é¢˜
const question: Question = {
  id: 1,
  videoId: 1,
  question: "è¿™æ®µè§†é¢‘ä¸­ï¼Œå­™é¢–èçš„å¯¹æ‰‹æ˜¯è°ï¼Ÿ",
  options: [
    "A. é™ˆæ¢¦",
    "B. ç‹æ›¼æ˜±",
    "C. ä¼Šè—¤ç¾è¯š",
    "D. ç‹è‰ºè¿ª"
  ],
  correctAnswer: 2,  // æ­£ç¡®ç­”æ¡ˆæ˜¯Cï¼ˆä¼Šè—¤ç¾è¯šï¼‰
  explanation: "è¿™æ˜¯å­™é¢–èä¸ä¼Šè—¤ç¾è¯šçš„ç»å…¸å¯¹å†³"
}
```

### 3.2 é—®é¢˜ç±»å‹è®¾è®¡

é—®é¢˜ä¸»è¦å›´ç»•ä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢ï¼š

#### 3.2.1 å¯¹æ‰‹è¯†åˆ«ç±»é—®é¢˜

**é—®é¢˜æ ¼å¼**ï¼š
- "è¿™æ®µè§†é¢‘ä¸­ï¼Œå­™é¢–èçš„å¯¹æ‰‹æ˜¯è°ï¼Ÿ"
- "è§†é¢‘ä¸­ä¸å­™é¢–èå¯¹æˆ˜çš„é€‰æ‰‹æ˜¯ï¼Ÿ"

**é€‰é¡¹è®¾è®¡**ï¼š
- åŒ…å«æ­£ç¡®ç­”æ¡ˆï¼ˆè§†é¢‘ä¸­çš„å®é™…å¯¹æ‰‹ï¼‰
- åŒ…å«å…¶ä»–å¸¸è§å¯¹æ‰‹ï¼ˆå¦‚ï¼šé™ˆæ¢¦ã€ç‹æ›¼æ˜±ã€ä¼Šè—¤ç¾è¯šã€ç‹è‰ºè¿ªç­‰ï¼‰
- ç¡®ä¿é€‰é¡¹å…·æœ‰è¿·æƒ‘æ€§ï¼Œå¢åŠ éš¾åº¦

#### 3.2.2 æ¯”èµ›åœºæ¬¡è¯†åˆ«ç±»é—®é¢˜

**é—®é¢˜æ ¼å¼**ï¼š
- "è¿™æ˜¯å­™é¢–èçš„å“ªåœºç»å…¸æ¯”èµ›ï¼Ÿ"
- "è¿™æ®µè§†é¢‘è®°å½•çš„æ˜¯å“ªåœºæ¯”èµ›ï¼Ÿ"
- "è¿™åœºæ¯”èµ›å‘ç”Ÿåœ¨ä»€ä¹ˆæ—¶é—´ï¼Ÿ"

**é€‰é¡¹è®¾è®¡**ï¼š
- åŒ…å«æ­£ç¡®ç­”æ¡ˆï¼ˆå¦‚ï¼š2020ä¸œäº¬å¥¥è¿ä¼šå¥³å•åŠå†³èµ›ï¼‰
- åŒ…å«å…¶ä»–é‡è¦æ¯”èµ›åœºæ¬¡
- å¯ä»¥åŒ…å«æ—¶é—´ã€åœ°ç‚¹ã€èµ›äº‹åç§°ç­‰ä¿¡æ¯

#### 3.2.3 å…¶ä»–æ‰©å±•é—®é¢˜ç±»å‹

- **æ¯”åˆ†é—®é¢˜**ï¼š"åœ¨è¿™åœºæ¯”èµ›ä¸­ï¼Œå­™é¢–èçš„æœ€ç»ˆæ¯”åˆ†æ˜¯å¤šå°‘ï¼Ÿ"
- **æŠ€æœ¯ç‰¹ç‚¹**ï¼š"è§†é¢‘ä¸­å­™é¢–èä¸»è¦ä½¿ç”¨äº†ä»€ä¹ˆæŠ€æœ¯ï¼Ÿ"
- **æ¯”èµ›ç»“æœ**ï¼š"è¿™åœºæ¯”èµ›å­™é¢–èçš„æœ€ç»ˆæˆç»©æ˜¯ï¼Ÿ"

### 3.3 æ¸¸æˆçŠ¶æ€æ•°æ®ç»“æ„

```typescript
interface GameState {
  isPlaying: boolean           // æ¸¸æˆæ˜¯å¦è¿›è¡Œä¸­
  currentVideoId: number       // å½“å‰è§†é¢‘ID
  currentQuestionIndex: number  // å½“å‰é—®é¢˜ç´¢å¼•
  score: number                // å½“å‰å¾—åˆ†
  totalQuestions: number       // æ€»é¢˜æ•°
  correctAnswers: number        // æ­£ç¡®ç­”æ¡ˆæ•°
  startTime: number            // æ¸¸æˆå¼€å§‹æ—¶é—´ï¼ˆæ—¶é—´æˆ³ï¼‰
  endTime?: number              // æ¸¸æˆç»“æŸæ—¶é—´ï¼ˆæ—¶é—´æˆ³ï¼‰
  answeredQuestions: Set<number> // å·²ç­”é¢˜çš„é—®é¢˜IDé›†åˆ
}

// åˆå§‹çŠ¶æ€
const initialState: GameState = {
  isPlaying: false,
  currentVideoId: 0,
  currentQuestionIndex: -1,
  score: 0,
  totalQuestions: 0,
  correctAnswers: 0,
  startTime: 0,
  answeredQuestions: new Set()
}
```

### 3.4 è§†é¢‘æ•°æ®ç»“æ„

```typescript
interface VideoData {
  id: number
  name: string
  src: string
  duration: number            // è§†é¢‘æ—¶é•¿ï¼ˆç§’ï¼‰
  opponent: string            // å¯¹æ‰‹å§“å
  matchInfo: string           // æ¯”èµ›ä¿¡æ¯ï¼ˆå¦‚ï¼š2020ä¸œäº¬å¥¥è¿ä¼šå¥³å•åŠå†³èµ›ï¼‰
  questions: Question[]        // è¯¥è§†é¢‘å…³è”çš„é—®é¢˜ï¼ˆè§†é¢‘æ’­æ”¾å®Œæˆåè§¦å‘ï¼‰
}

// ç¤ºä¾‹ - å­™é¢–èæ¯”èµ›è§†é¢‘
const videoData: VideoData = {
  id: 1,
  name: 'å­™é¢–è vs ä¼Šè—¤ç¾è¯š',
  src: '/videos/sample1.mp4',
  duration: 30,
  opponent: 'ä¼Šè—¤ç¾è¯š',
  matchInfo: '2020ä¸œäº¬å¥¥è¿ä¼šå¥³å•åŠå†³èµ›',
  questions: [
    {
      id: 1,
      videoId: 1,
      question: "è¿™æ®µè§†é¢‘ä¸­ï¼Œå­™é¢–èçš„å¯¹æ‰‹æ˜¯è°ï¼Ÿ",
      options: [
        "A. é™ˆæ¢¦",
        "B. ç‹æ›¼æ˜±",
        "C. ä¼Šè—¤ç¾è¯š",
        "D. ç‹è‰ºè¿ª"
      ],
      correctAnswer: 2,
      explanation: "è¿™æ˜¯å­™é¢–èä¸ä¼Šè—¤ç¾è¯šçš„ç»å…¸å¯¹å†³"
    },
    {
      id: 2,
      videoId: 1,
      question: "è¿™æ˜¯å­™é¢–èçš„å“ªåœºç»å…¸æ¯”èµ›ï¼Ÿ",
      options: [
        "A. 2020ä¸œäº¬å¥¥è¿ä¼šå¥³å•åŠå†³èµ›",
        "B. 2021ä¸–ä¹’èµ›å¥³å•å†³èµ›",
        "C. 2022WTTä¸–ç•Œæ¯å¥³å•å†³èµ›",
        "D. 2023ä¸–ä¹’èµ›å¥³å•åŠå†³èµ›"
      ],
      correctAnswer: 0,
      explanation: "è¿™æ˜¯2020ä¸œäº¬å¥¥è¿ä¼šå¥³å•åŠå†³èµ›ï¼Œå­™é¢–è4-0æ¨ªæ‰«ä¼Šè—¤ç¾è¯š"
    }
  ]
}
```

---

## å››ã€UI/UX è®¾è®¡

### 4.1 é¡µé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           æ¸¸æˆæ ‡é¢˜ / Logo                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚      è§†é¢‘æ’­æ”¾åŒºåŸŸï¼ˆç²’å­ç‰¹æ•ˆï¼‰              â”‚
â”‚                                          â”‚
â”‚                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å¾—åˆ†: 5/10  |  æ—¶é—´: 01:23  |  è¿›åº¦    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  é—®é¢˜å¼¹çª—ï¼ˆè¦†ç›–åœ¨è§†é¢‘ä¸Šæ–¹ï¼‰                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  é—®é¢˜ï¼šè§†é¢‘ä¸­çš„äººç‰©åœ¨åšä»€ä¹ˆåŠ¨ä½œï¼Ÿ    â”‚   â”‚
â”‚  â”‚                                  â”‚   â”‚
â”‚  â”‚  [A. æŒ¥æ‰‹]  [B. è·³è·ƒ]            â”‚   â”‚
â”‚  â”‚  [C. è·‘æ­¥]  [D. é™æ­¢ä¸åŠ¨]        â”‚   â”‚
â”‚  â”‚                                  â”‚   â”‚
â”‚  â”‚  åé¦ˆï¼šå›ç­”æ­£ç¡®ï¼+1åˆ†             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 é—®é¢˜å¼¹çª—è®¾è®¡

**æ ·å¼è¦æ±‚**ï¼š
- åŠé€æ˜èƒŒæ™¯ï¼ˆé®ç½©å±‚ï¼‰
- å±…ä¸­æ˜¾ç¤º
- åœ†è§’è¾¹æ¡†
- é˜´å½±æ•ˆæœ
- åŠ¨ç”»æ•ˆæœï¼ˆæ·¡å…¥æ·¡å‡ºï¼‰

**å¸ƒå±€**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é—®é¢˜ 1/10                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    â”‚
â”‚  è§†é¢‘ä¸­çš„äººç‰©åœ¨åšä»€ä¹ˆåŠ¨ä½œï¼Ÿ          â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ A. æŒ¥æ‰‹  â”‚  â”‚ B. è·³è·ƒ  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ C. è·‘æ­¥  â”‚  â”‚ D. é™æ­¢  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                    â”‚
â”‚  [åé¦ˆä¿¡æ¯åŒºåŸŸ]                     â”‚
â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 æ€»ç»“é¡µé¢è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ğŸ‰ æ¸¸æˆç»“æŸ ğŸ‰            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    â”‚
â”‚  æ€»æ—¶é•¿ï¼š05:23                      â”‚
â”‚  æ€»å¾—åˆ†ï¼š8/10                       â”‚
â”‚  æ­£ç¡®ç‡ï¼š80%                        â”‚
â”‚  ç­‰çº§ï¼šä¼˜ç§€ â­â­â­â­                â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚       [é‡æ–°å¼€å§‹æ¸¸æˆ]          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## äº”ã€æŠ€æœ¯æ¶æ„

### 5.1 ç»„ä»¶ç»“æ„

```
app/game/quiz/
â”œâ”€â”€ page.tsx                    # ä¸»æ¸¸æˆé¡µé¢
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ VideoQuizPlayer.tsx     # è§†é¢‘æ’­æ”¾å™¨ + ç²’å­ç‰¹æ•ˆ
â”‚   â”œâ”€â”€ QuestionModal.tsx        # é—®é¢˜å¼¹çª—ç»„ä»¶
â”‚   â”œâ”€â”€ ScoreBoard.tsx           # å¾—åˆ†é¢æ¿ç»„ä»¶
â”‚   â”œâ”€â”€ SummaryModal.tsx         # æ€»ç»“é¡µé¢ç»„ä»¶
â”‚   â””â”€â”€ GameControls.tsx         # æ¸¸æˆæ§åˆ¶ç»„ä»¶
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useGameState.ts          # æ¸¸æˆçŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ useQuestions.ts          # é—®é¢˜ç®¡ç†
â”‚   â””â”€â”€ useTimer.ts              # è®¡æ—¶å™¨
â””â”€â”€ data/
    â””â”€â”€ questions.ts             # é—®é¢˜æ•°æ®
```

### 5.2 æ ¸å¿ƒç»„ä»¶è®¾è®¡

#### 5.2.1 VideoQuizPlayer ç»„ä»¶

```typescript
interface VideoQuizPlayerProps {
  videoSrc: string
  questions: Question[]
  onQuestionTrigger: (question: Question) => void
  onVideoEnd: () => void
  isPaused: boolean
  onPause: () => void
  onResume: () => void
}
```

**åŠŸèƒ½**ï¼š
- é›†æˆ `ShaderVideoParticle` ç»„ä»¶
- ç›‘å¬è§†é¢‘æ’­æ”¾æ—¶é—´
- åœ¨æŒ‡å®šæ—¶é—´ç‚¹è§¦å‘é—®é¢˜
- æ§åˆ¶è§†é¢‘æ’­æ”¾/æš‚åœ

#### 5.2.2 QuestionModal ç»„ä»¶

```typescript
interface QuestionModalProps {
  question: Question
  questionIndex: number
  totalQuestions: number
  isVisible: boolean
  onAnswer: (answerIndex: number) => void
  onClose: () => void
}
```

**åŠŸèƒ½**ï¼š
- æ˜¾ç¤ºé—®é¢˜æ–‡æœ¬
- æ˜¾ç¤º4ä¸ªé€‰é¡¹
- å¤„ç†ç”¨æˆ·é€‰æ‹©
- æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆå’Œåé¦ˆ
- è‡ªåŠ¨å…³é—­æˆ–è¿›å…¥ä¸‹ä¸€é¢˜

#### 5.2.3 ScoreBoard ç»„ä»¶

```typescript
interface ScoreBoardProps {
  score: number
  totalQuestions: number
  elapsedTime: number
}
```

**åŠŸèƒ½**ï¼š
- æ˜¾ç¤ºå½“å‰å¾—åˆ†
- æ˜¾ç¤ºæ€»é¢˜æ•°
- æ˜¾ç¤ºå·²ç”¨æ—¶é—´

#### 5.2.4 SummaryModal ç»„ä»¶

```typescript
interface SummaryModalProps {
  isVisible: boolean
  totalTime: number
  score: number
  totalQuestions: number
  correctAnswers: number
  onRestart: () => void
}
```

**åŠŸèƒ½**ï¼š
- æ˜¾ç¤ºæ¸¸æˆæ€»ç»“ä¿¡æ¯
- è®¡ç®—å¹¶æ˜¾ç¤ºæ­£ç¡®ç‡
- æ˜¾ç¤ºç­‰çº§è¯„ä»·
- æä¾›é‡æ–°å¼€å§‹æŒ‰é’®

---

## å…­ã€å®ç°æ­¥éª¤

### 6.1 ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€ç»“æ„æ­å»º

1. **åˆ›å»ºæ¸¸æˆé¡µé¢ç»“æ„**
   ```bash
   app/game/quiz/page.tsx
   ```

2. **åˆ›å»ºé—®é¢˜æ•°æ®æ–‡ä»¶**
   ```bash
   data/questions.ts
   ```

3. **åˆ›å»ºæ ¸å¿ƒç»„ä»¶éª¨æ¶**
   - `VideoQuizPlayer.tsx`
   - `QuestionModal.tsx`
   - `ScoreBoard.tsx`
   - `SummaryModal.tsx`

### 6.2 ç¬¬äºŒé˜¶æ®µï¼šè§†é¢‘æ’­æ”¾é›†æˆ

1. **é›†æˆ ShaderVideoParticle ç»„ä»¶**
   - åœ¨ `VideoQuizPlayer` ä¸­ä½¿ç”¨ç°æœ‰ç»„ä»¶
   - æ·»åŠ è§†é¢‘æ’­æ”¾æ§åˆ¶

2. **å®ç°æ—¶é—´ç›‘å¬**
   - ç›‘å¬è§†é¢‘ `timeupdate` äº‹ä»¶
   - æ£€æŸ¥æ˜¯å¦åˆ°è¾¾é—®é¢˜è§¦å‘æ—¶é—´

3. **å®ç°é—®é¢˜è§¦å‘é€»è¾‘**
   - åœ¨æŒ‡å®šæ—¶é—´ç‚¹æš‚åœè§†é¢‘
   - æ˜¾ç¤ºé—®é¢˜å¼¹çª—

### 6.3 ç¬¬ä¸‰é˜¶æ®µï¼šé—®ç­”ç³»ç»Ÿå®ç°

1. **å®ç° QuestionModal ç»„ä»¶**
   - æ˜¾ç¤ºé—®é¢˜å’Œé€‰é¡¹
   - å¤„ç†ç”¨æˆ·ç‚¹å‡»
   - æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆå’Œåé¦ˆ

2. **å®ç°ç­”é¢˜é€»è¾‘**
   - åˆ¤æ–­ç­”æ¡ˆæ˜¯å¦æ­£ç¡®
   - æ›´æ–°å¾—åˆ†
   - è®°å½•ç­”é¢˜çŠ¶æ€

3. **å®ç°è‡ªåŠ¨è¿›å…¥ä¸‹ä¸€é¢˜**
   - 2-3ç§’åè‡ªåŠ¨å…³é—­å¼¹çª—
   - ç»§ç»­æ’­æ”¾è§†é¢‘æˆ–è¿›å…¥ä¸‹ä¸€é¢˜

### 6.4 ç¬¬å››é˜¶æ®µï¼šè®¡åˆ†å’Œæ€»ç»“

1. **å®ç° ScoreBoard ç»„ä»¶**
   - å®æ—¶æ˜¾ç¤ºå¾—åˆ†
   - æ˜¾ç¤ºæ—¶é—´è¿›åº¦

2. **å®ç° SummaryModal ç»„ä»¶**
   - è®¡ç®—æ¸¸æˆç»Ÿè®¡æ•°æ®
   - æ˜¾ç¤ºæ€»ç»“ä¿¡æ¯
   - å®ç°é‡æ–°å¼€å§‹åŠŸèƒ½

### 6.5 ç¬¬äº”é˜¶æ®µï¼šä¼˜åŒ–å’Œæµ‹è¯•

1. **æ·»åŠ åŠ¨ç”»æ•ˆæœ**
   - å¼¹çª—æ·¡å…¥æ·¡å‡º
   - é€‰é¡¹ç‚¹å‡»åé¦ˆ
   - å¾—åˆ†æ›´æ–°åŠ¨ç”»

2. **ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ**
   - æ·»åŠ åŠ è½½çŠ¶æ€
   - æ·»åŠ é”™è¯¯å¤„ç†
   - ä¼˜åŒ–å“åº”å¼è®¾è®¡

3. **æµ‹è¯•å’Œè°ƒè¯•**
   - æµ‹è¯•å„ç§åœºæ™¯
   - ä¿®å¤bug
   - æ€§èƒ½ä¼˜åŒ–

---

## ä¸ƒã€æ ¸å¿ƒä»£ç ç¤ºä¾‹

### 7.1 æ¸¸æˆçŠ¶æ€ç®¡ç† Hook

```typescript
// hooks/useGameState.ts
import { useState, useCallback } from 'react'

interface GameState {
  isPlaying: boolean
  currentQuestionIndex: number
  score: number
  totalQuestions: number
  correctAnswers: number
  startTime: number
  endTime?: number
  answeredQuestions: Set<number>
}

export function useGameState(totalQuestions: number) {
  const [gameState, setGameState] = useState<GameState>({
    isPlaying: false,
    currentQuestionIndex: -1,
    score: 0,
    totalQuestions,
    correctAnswers: 0,
    startTime: 0,
    answeredQuestions: new Set()
  })

  const startGame = useCallback(() => {
    setGameState({
      isPlaying: true,
      currentQuestionIndex: -1,
      score: 0,
      totalQuestions,
      correctAnswers: 0,
      startTime: Date.now(),
      answeredQuestions: new Set()
    })
  }, [totalQuestions])

  const answerQuestion = useCallback((questionId: number, isCorrect: boolean) => {
    setGameState(prev => ({
      ...prev,
      score: isCorrect ? prev.score + 1 : prev.score,
      correctAnswers: isCorrect ? prev.correctAnswers + 1 : prev.correctAnswers,
      answeredQuestions: new Set([...prev.answeredQuestions, questionId])
    }))
  }, [])

  const endGame = useCallback(() => {
    setGameState(prev => ({
      ...prev,
      isPlaying: false,
      endTime: Date.now()
    }))
  }, [])

  const resetGame = useCallback(() => {
    startGame()
  }, [startGame])

  return {
    gameState,
    startGame,
    answerQuestion,
    endGame,
    resetGame
  }
}
```

### 7.2 é—®é¢˜ç®¡ç† Hook

```typescript
// hooks/useQuestions.ts
import { useState, useCallback, useEffect } from 'react'
import { Question } from '@/types'

export function useQuestions(questions: Question[]) {
  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0)
  const [currentQuestion, setCurrentQuestion] = useState<Question | null>(null)
  const [isQuestionVisible, setIsQuestionVisible] = useState(false)
  const [answeredQuestionIds, setAnsweredQuestionIds] = useState<Set<number>>(new Set())

  // è§†é¢‘ç»“æŸåè§¦å‘ç¬¬ä¸€ä¸ªé—®é¢˜
  const triggerQuestions = useCallback(() => {
    if (questions.length > 0 && currentQuestionIndex < questions.length) {
      const question = questions[currentQuestionIndex]
      if (!answeredQuestionIds.has(question.id)) {
        setCurrentQuestion(question)
        setIsQuestionVisible(true)
      }
    }
  }, [questions, currentQuestionIndex, answeredQuestionIds])

  const handleAnswer = useCallback((answerIndex: number) => {
    if (!currentQuestion) return false

    const isCorrect = answerIndex === currentQuestion.correctAnswer
    setAnsweredQuestionIds(prev => new Set([...prev, currentQuestion.id]))
    
    return isCorrect
  }, [currentQuestion])

  const closeQuestion = useCallback(() => {
    setIsQuestionVisible(false)
    
    // è¿›å…¥ä¸‹ä¸€é¢˜
    if (currentQuestionIndex < questions.length - 1) {
      setCurrentQuestionIndex(prev => prev + 1)
      // å»¶è¿Ÿæ˜¾ç¤ºä¸‹ä¸€é¢˜ï¼Œç»™ç”¨æˆ·åé¦ˆæ—¶é—´
      setTimeout(() => {
        const nextQuestion = questions[currentQuestionIndex + 1]
        if (nextQuestion && !answeredQuestionIds.has(nextQuestion.id)) {
          setCurrentQuestion(nextQuestion)
          setIsQuestionVisible(true)
        }
      }, 2000)
    }
  }, [currentQuestionIndex, questions, answeredQuestionIds])

  const allQuestionsAnswered = answeredQuestionIds.size === questions.length

  return {
    currentQuestion,
    isQuestionVisible,
    handleAnswer,
    closeQuestion,
    triggerQuestions,
    allQuestionsAnswered
  }
}
```

### 7.3 QuestionModal ç»„ä»¶

```typescript
// components/QuestionModal.tsx
'use client'

import { useState, useEffect } from 'react'
import { Question } from '@/types'

interface QuestionModalProps {
  question: Question
  questionIndex: number
  totalQuestions: number
  isVisible: boolean
  onAnswer: (answerIndex: number, isCorrect: boolean) => void
  onClose: () => void
}

export default function QuestionModal({
  question,
  questionIndex,
  totalQuestions,
  isVisible,
  onAnswer,
  onClose
}: QuestionModalProps) {
  const [selectedAnswer, setSelectedAnswer] = useState<number | null>(null)
  const [showFeedback, setShowFeedback] = useState(false)
  const [isCorrect, setIsCorrect] = useState(false)

  useEffect(() => {
    if (isVisible) {
      setSelectedAnswer(null)
      setShowFeedback(false)
    }
  }, [isVisible, question.id])

  const handleOptionClick = (index: number) => {
    if (selectedAnswer !== null) return // å·²é€‰æ‹©ï¼Œç¦ç”¨

    setSelectedAnswer(index)
    const correct = index === question.correctAnswer
    setIsCorrect(correct)
    setShowFeedback(true)
    
    // é€šçŸ¥çˆ¶ç»„ä»¶
    onAnswer(index, correct)

    // 2ç§’åè‡ªåŠ¨å…³é—­
    setTimeout(() => {
      onClose()
    }, 2000)
  }

  if (!isVisible) return null

  return (
    <div className="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
      <div className="bg-white rounded-lg p-6 max-w-2xl w-full mx-4 animate-fadeIn">
        <div className="text-sm text-gray-500 mb-2">
          é—®é¢˜ {questionIndex + 1}/{totalQuestions}
        </div>
        
        <h2 className="text-2xl font-bold mb-6">{question.question}</h2>
        
        <div className="grid grid-cols-2 gap-4 mb-6">
          {question.options.map((option, index) => {
            const isSelected = selectedAnswer === index
            const isCorrectAnswer = index === question.correctAnswer
            const isWrong = isSelected && !isCorrectAnswer
            
            let buttonClass = "p-4 border-2 rounded-lg text-left transition-all hover:bg-gray-50"
            
            if (showFeedback) {
              if (isCorrectAnswer) {
                buttonClass += " border-green-500 bg-green-50"
              } else if (isWrong) {
                buttonClass += " border-red-500 bg-red-50"
              } else {
                buttonClass += " border-gray-200 opacity-50"
              }
            } else {
              buttonClass += " border-gray-300 cursor-pointer"
            }

            return (
              <button
                key={index}
                onClick={() => handleOptionClick(index)}
                disabled={selectedAnswer !== null}
                className={buttonClass}
              >
                {option}
              </button>
            )
          })}
        </div>

        {showFeedback && (
          <div className={`p-4 rounded-lg ${isCorrect ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>
            {isCorrect ? (
              <p className="font-bold">âœ“ å›ç­”æ­£ç¡®ï¼+1åˆ†</p>
            ) : (
              <p className="font-bold">âœ— å›ç­”é”™è¯¯ï¼Œæ­£ç¡®ç­”æ¡ˆæ˜¯ï¼š{question.options[question.correctAnswer]}</p>
            )}
            {question.explanation && (
              <p className="mt-2 text-sm">{question.explanation}</p>
            )}
          </div>
        )}
      </div>
    </div>
  )
}
```

### 7.4 SummaryModal ç»„ä»¶

```typescript
// components/SummaryModal.tsx
'use client'

interface SummaryModalProps {
  isVisible: boolean
  totalTime: number
  score: number
  totalQuestions: number
  correctAnswers: number
  onRestart: () => void
}

export default function SummaryModal({
  isVisible,
  totalTime,
  score,
  totalQuestions,
  correctAnswers,
  onRestart
}: SummaryModalProps) {
  if (!isVisible) return null

  const correctRate = totalQuestions > 0 ? (correctAnswers / totalQuestions * 100).toFixed(1) : 0
  const formatTime = (seconds: number) => {
    const mins = Math.floor(seconds / 60)
    const secs = Math.floor(seconds % 60)
    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`
  }

  const getRating = () => {
    const rate = parseFloat(correctRate)
    if (rate >= 90) return { text: 'ä¼˜ç§€', stars: 'â­â­â­â­â­', color: 'text-yellow-500' }
    if (rate >= 80) return { text: 'è‰¯å¥½', stars: 'â­â­â­â­', color: 'text-blue-500' }
    if (rate >= 60) return { text: 'ä¸€èˆ¬', stars: 'â­â­â­', color: 'text-green-500' }
    return { text: 'åŠ æ²¹', stars: 'â­â­', color: 'text-gray-500' }
  }

  const rating = getRating()

  return (
    <div className="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
      <div className="bg-white rounded-lg p-8 max-w-md w-full mx-4 animate-fadeIn">
        <div className="text-center mb-6">
          <h2 className="text-4xl font-bold mb-2">ğŸ‰ æ¸¸æˆç»“æŸ ğŸ‰</h2>
        </div>

        <div className="space-y-4 mb-6">
          <div className="flex justify-between">
            <span className="text-gray-600">æ€»æ—¶é•¿ï¼š</span>
            <span className="font-bold">{formatTime(totalTime)}</span>
          </div>
          <div className="flex justify-between">
            <span className="text-gray-600">æ€»å¾—åˆ†ï¼š</span>
            <span className="font-bold">{score}/{totalQuestions}</span>
          </div>
          <div className="flex justify-between">
            <span className="text-gray-600">æ­£ç¡®é¢˜æ•°ï¼š</span>
            <span className="font-bold">{correctAnswers}/{totalQuestions}</span>
          </div>
          <div className="flex justify-between">
            <span className="text-gray-600">æ­£ç¡®ç‡ï¼š</span>
            <span className="font-bold">{correctRate}%</span>
          </div>
          <div className="flex justify-between items-center pt-4 border-t">
            <span className="text-gray-600">ç­‰çº§ï¼š</span>
            <span className={`font-bold text-xl ${rating.color}`}>
              {rating.text} {rating.stars}
            </span>
          </div>
        </div>

        <button
          onClick={onRestart}
          className="w-full py-3 bg-blue-500 text-white rounded-lg font-bold hover:bg-blue-600 transition-colors"
        >
          é‡æ–°å¼€å§‹æ¸¸æˆ
        </button>
      </div>
    </div>
  )
}
```

### 7.5 ä¸»æ¸¸æˆé¡µé¢

```typescript
// app/game/quiz/page.tsx
'use client'

import { useState, useRef, useEffect } from 'react'
import ShaderVideoParticle from '@/components/ShaderVideoParticle'
import QuestionModal from './components/QuestionModal'
import ScoreBoard from './components/ScoreBoard'
import SummaryModal from './components/SummaryModal'
import { useGameState } from './hooks/useGameState'
import { useQuestions } from './hooks/useQuestions'
import { videoData } from '@/data/questions'

export default function QuizGamePage() {
  const videoRef = useRef<HTMLVideoElement>(null)
  const [isVideoEnded, setIsVideoEnded] = useState(false)

  const questions = videoData.questions
  const { gameState, startGame, answerQuestion, endGame, resetGame } = useGameState(questions.length)
  const {
    currentQuestion,
    isQuestionVisible,
    handleAnswer,
    closeQuestion,
    triggerQuestions,
    allQuestionsAnswered
  } = useQuestions(questions)

  // å¼€å§‹æ¸¸æˆ
  useEffect(() => {
    startGame()
  }, [startGame])

  // ç›‘å¬è§†é¢‘ç»“æŸ
  useEffect(() => {
    const video = videoRef.current
    if (!video) return

    const handleEnded = () => {
      setIsVideoEnded(true)
      // è§†é¢‘ç»“æŸåè§¦å‘ç¬¬ä¸€ä¸ªé—®é¢˜
      triggerQuestions()
    }

    video.addEventListener('ended', handleEnded)
    return () => video.removeEventListener('ended', handleEnded)
  }, [triggerQuestions])

  // å¤„ç†ç­”é¢˜
  const handleQuestionAnswer = (answerIndex: number, isCorrect: boolean) => {
    if (!currentQuestion) return
    
    const correct = handleAnswer(answerIndex)
    answerQuestion(currentQuestion.id, correct)
  }

  // å…³é—­é—®é¢˜
  const handleQuestionClose = () => {
    closeQuestion()
    
    // æ£€æŸ¥æ˜¯å¦æ‰€æœ‰é—®é¢˜éƒ½ç­”å®Œäº†
    if (allQuestionsAnswered) {
      endGame()
    }
  }

  // è®¡ç®—æ¸¸æˆæ—¶é•¿
  const getElapsedTime = () => {
    if (!gameState.startTime) return 0
    const end = gameState.endTime || Date.now()
    return Math.floor((end - gameState.startTime) / 1000)
  }

  return (
    <div className="min-h-screen bg-black">
      {/* å¾—åˆ†é¢æ¿ */}
      <ScoreBoard
        score={gameState.score}
        totalQuestions={gameState.totalQuestions}
        elapsedTime={getElapsedTime()}
      />

      {/* è§†é¢‘æ’­æ”¾å™¨ */}
      <div className="relative">
        <ShaderVideoParticle
          videoSrc={videoData.src}
          width={320}
          height={180}
        />
        <video
          ref={videoRef}
          src={videoData.src}
          className="hidden"
          playsInline
        />
      </div>

      {/* é—®é¢˜å¼¹çª— */}
      {currentQuestion && (
        <QuestionModal
          question={currentQuestion}
          questionIndex={questions.findIndex(q => q.id === currentQuestion.id)}
          totalQuestions={questions.length}
          isVisible={isQuestionVisible}
          onAnswer={handleQuestionAnswer}
          onClose={handleQuestionClose}
        />
      )}

      {/* è§†é¢‘ä¿¡æ¯æ˜¾ç¤º */}
      {!isVideoEnded && (
        <div className="absolute top-4 left-4 bg-black bg-opacity-70 text-white p-4 rounded-lg">
          <h3 className="text-xl font-bold mb-2">{videoData.name}</h3>
          <p className="text-sm">{videoData.matchInfo}</p>
        </div>
      )}

      {/* æ€»ç»“é¡µé¢ */}
      <SummaryModal
        isVisible={!gameState.isPlaying && gameState.endTime !== undefined}
        totalTime={getElapsedTime()}
        score={gameState.score}
        totalQuestions={gameState.totalQuestions}
        correctAnswers={gameState.correctAnswers}
        onRestart={resetGame}
      />
    </div>
  )
}
```

---

## å…«ã€æ•°æ®æ–‡ä»¶ç¤ºä¾‹

### 8.1 é—®é¢˜æ•°æ®æ–‡ä»¶

```typescript
// data/questions.ts
import { VideoData, Question } from '@/types'

export const videoData: VideoData = {
  id: 1,
  name: 'å­™é¢–è vs ä¼Šè—¤ç¾è¯š',
  src: '/videos/sample1.mp4',
  duration: 30,
  opponent: 'ä¼Šè—¤ç¾è¯š',
  matchInfo: '2020ä¸œäº¬å¥¥è¿ä¼šå¥³å•åŠå†³èµ›',
  questions: [
    {
      id: 1,
      videoId: 1,
      question: "è¿™æ®µè§†é¢‘ä¸­ï¼Œå­™é¢–èçš„å¯¹æ‰‹æ˜¯è°ï¼Ÿ",
      options: [
        "A. é™ˆæ¢¦",
        "B. ç‹æ›¼æ˜±",
        "C. ä¼Šè—¤ç¾è¯š",
        "D. ç‹è‰ºè¿ª"
      ],
      correctAnswer: 2,
      explanation: "è¿™æ˜¯å­™é¢–èä¸ä¼Šè—¤ç¾è¯šçš„ç»å…¸å¯¹å†³ï¼Œå­™é¢–èä»¥4-0æ¨ªæ‰«å¯¹æ‰‹"
    },
    {
      id: 2,
      videoId: 1,
      question: "è¿™æ˜¯å­™é¢–èçš„å“ªåœºç»å…¸æ¯”èµ›ï¼Ÿ",
      options: [
        "A. 2020ä¸œäº¬å¥¥è¿ä¼šå¥³å•åŠå†³èµ›",
        "B. 2021ä¸–ä¹’èµ›å¥³å•å†³èµ›",
        "C. 2022WTTä¸–ç•Œæ¯å¥³å•å†³èµ›",
        "D. 2023ä¸–ä¹’èµ›å¥³å•åŠå†³èµ›"
      ],
      correctAnswer: 0,
      explanation: "è¿™æ˜¯2020ä¸œäº¬å¥¥è¿ä¼šå¥³å•åŠå†³èµ›ï¼Œå­™é¢–è4-0æ¨ªæ‰«ä¼Šè—¤ç¾è¯šï¼Œå±•ç°äº†å¼ºå¤§çš„å®åŠ›"
    },
    {
      id: 3,
      videoId: 1,
      question: "åœ¨è¿™åœºæ¯”èµ›ä¸­ï¼Œå­™é¢–èçš„æœ€ç»ˆæ¯”åˆ†æ˜¯å¤šå°‘ï¼Ÿ",
      options: [
        "A. 4-0",
        "B. 4-1",
        "C. 4-2",
        "D. 4-3"
      ],
      correctAnswer: 0,
      explanation: "å­™é¢–èä»¥4-0çš„æ¯”åˆ†å®Œèƒœä¼Šè—¤ç¾è¯šï¼Œå››å±€æ¯”åˆ†åˆ†åˆ«ä¸º11-3ã€11-9ã€11-6ã€11-4"
    }
  ]
}

// æ›´å¤šè§†é¢‘ç¤ºä¾‹
export const videoData2: VideoData = {
  id: 2,
  name: 'å­™é¢–è vs é™ˆæ¢¦',
  src: '/videos/sample2.mp4',
  duration: 35,
  opponent: 'é™ˆæ¢¦',
  matchInfo: '2021ä¸–ä¹’èµ›å¥³å•å†³èµ›',
  questions: [
    {
      id: 4,
      videoId: 2,
      question: "è¿™æ®µè§†é¢‘ä¸­ï¼Œå­™é¢–èçš„å¯¹æ‰‹æ˜¯è°ï¼Ÿ",
      options: [
        "A. é™ˆæ¢¦",
        "B. ç‹æ›¼æ˜±",
        "C. ä¼Šè—¤ç¾è¯š",
        "D. ç‹è‰ºè¿ª"
      ],
      correctAnswer: 0,
      explanation: "è¿™æ˜¯å­™é¢–èä¸é™ˆæ¢¦çš„å¯¹å†³"
    },
    {
      id: 5,
      videoId: 2,
      question: "è¿™æ˜¯å­™é¢–èçš„å“ªåœºç»å…¸æ¯”èµ›ï¼Ÿ",
      options: [
        "A. 2020ä¸œäº¬å¥¥è¿ä¼šå¥³å•åŠå†³èµ›",
        "B. 2021ä¸–ä¹’èµ›å¥³å•å†³èµ›",
        "C. 2022WTTä¸–ç•Œæ¯å¥³å•å†³èµ›",
        "D. 2023ä¸–ä¹’èµ›å¥³å•åŠå†³èµ›"
      ],
      correctAnswer: 1,
      explanation: "è¿™æ˜¯2021ä¼‘æ–¯é¡¿ä¸–ä¹’èµ›å¥³å•å†³èµ›ï¼Œå­™é¢–èä¸é™ˆæ¢¦çš„ç²¾å½©å¯¹å†³"
    }
  ]
}

export const allVideos: VideoData[] = [
  videoData,
  videoData2,
  // å¯ä»¥æ·»åŠ æ›´å¤šè§†é¢‘
]
```

---

## ä¹ã€æ ·å¼è®¾è®¡

### 9.1 Tailwind CSS é…ç½®

åœ¨ `tailwind.config.ts` ä¸­æ·»åŠ è‡ªå®šä¹‰åŠ¨ç”»ï¼š

```typescript
module.exports = {
  theme: {
    extend: {
      keyframes: {
        fadeIn: {
          '0%': { opacity: '0', transform: 'scale(0.9)' },
          '100%': { opacity: '1', transform: 'scale(1)' }
        }
      },
      animation: {
        fadeIn: 'fadeIn 0.3s ease-out'
      }
    }
  }
}
```

### 9.2 å…¨å±€æ ·å¼

```css
/* app/globals.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  .quiz-button {
    @apply px-6 py-3 rounded-lg font-semibold transition-all duration-200;
  }
  
  .quiz-button-primary {
    @apply quiz-button bg-blue-500 text-white hover:bg-blue-600 active:scale-95;
  }
  
  .quiz-button-correct {
    @apply quiz-button bg-green-500 text-white border-2 border-green-600;
  }
  
  .quiz-button-wrong {
    @apply quiz-button bg-red-500 text-white border-2 border-red-600;
  }
}
```

---

## åã€æµ‹è¯•è®¡åˆ’

### 10.1 åŠŸèƒ½æµ‹è¯•

1. **è§†é¢‘æ’­æ”¾æµ‹è¯•**
   - è§†é¢‘æ­£å¸¸æ’­æ”¾
   - ç²’å­ç‰¹æ•ˆæ­£å¸¸æ˜¾ç¤º
   - æ’­æ”¾æ§åˆ¶æ­£å¸¸

2. **é—®é¢˜è§¦å‘æµ‹è¯•**
   - åœ¨æŒ‡å®šæ—¶é—´ç‚¹æ­£ç¡®è§¦å‘é—®é¢˜
   - è§†é¢‘ç»“æŸåè§¦å‘é—®é¢˜
   - å·²ç­”é—®é¢˜ä¸å†è§¦å‘

3. **ç­”é¢˜æµ‹è¯•**
   - é€‰é¡¹ç‚¹å‡»æ­£å¸¸
   - æ­£ç¡®ç­”æ¡ˆåˆ¤æ–­æ­£ç¡®
   - å¾—åˆ†æ›´æ–°æ­£ç¡®
   - åé¦ˆæ˜¾ç¤ºæ­£ç¡®

4. **æ€»ç»“é¡µé¢æµ‹è¯•**
   - ç»Ÿè®¡æ•°æ®æ­£ç¡®
   - ç­‰çº§è¯„ä»·æ­£ç¡®
   - é‡æ–°å¼€å§‹åŠŸèƒ½æ­£å¸¸

### 10.2 æ€§èƒ½æµ‹è¯•

1. **è§†é¢‘æ’­æ”¾æ€§èƒ½**
   - ç²’å­ç‰¹æ•ˆæµç•…ï¼ˆ60 FPSï¼‰
   - å†…å­˜å ç”¨æ­£å¸¸

2. **å“åº”é€Ÿåº¦**
   - é—®é¢˜å¼¹çª—å“åº”åŠæ—¶
   - é€‰é¡¹ç‚¹å‡»åé¦ˆåŠæ—¶

### 10.3 å…¼å®¹æ€§æµ‹è¯•

1. **æµè§ˆå™¨å…¼å®¹**
   - Chrome/Edge
   - Firefox
   - Safari

2. **è®¾å¤‡å…¼å®¹**
   - æ¡Œé¢ç«¯
   - ç§»åŠ¨ç«¯ï¼ˆå“åº”å¼è®¾è®¡ï¼‰

---

## åä¸€ã€å¼€å‘æ—¶é—´ä¼°ç®—

| é˜¶æ®µ | ä»»åŠ¡ | é¢„ä¼°æ—¶é—´ |
|------|------|----------|
| ç¬¬ä¸€é˜¶æ®µ | åŸºç¡€ç»“æ„æ­å»º | 2-3å°æ—¶ |
| ç¬¬äºŒé˜¶æ®µ | è§†é¢‘æ’­æ”¾é›†æˆ | 3-4å°æ—¶ |
| ç¬¬ä¸‰é˜¶æ®µ | é—®ç­”ç³»ç»Ÿå®ç° | 4-5å°æ—¶ |
| ç¬¬å››é˜¶æ®µ | è®¡åˆ†å’Œæ€»ç»“ | 2-3å°æ—¶ |
| ç¬¬äº”é˜¶æ®µ | ä¼˜åŒ–å’Œæµ‹è¯• | 3-4å°æ—¶ |
| **æ€»è®¡** | | **14-19å°æ—¶** |

---

## åäºŒã€åç»­æ‰©å±•æ–¹å‘

### 12.1 åŠŸèƒ½æ‰©å±•

1. **å¤šè§†é¢‘æ”¯æŒ**
   - è§†é¢‘åˆ—è¡¨é€‰æ‹©
   - å¤šè§†é¢‘è¿ç»­æ’­æ”¾

2. **éš¾åº¦ç­‰çº§**
   - ç®€å•ã€ä¸­ç­‰ã€å›°éš¾
   - ä¸åŒéš¾åº¦å¯¹åº”ä¸åŒé—®é¢˜

3. **æ’è¡Œæ¦œç³»ç»Ÿ**
   - æœ¬åœ°æ’è¡Œæ¦œ
   - åœ¨çº¿æ’è¡Œæ¦œï¼ˆéœ€è¦åç«¯ï¼‰

4. **é¢˜ç›®ç¼–è¾‘**
   - ç®¡ç†å‘˜åå°
   - è‡ªå®šä¹‰é¢˜ç›®

### 12.2 æŠ€æœ¯ä¼˜åŒ–

1. **æ€§èƒ½ä¼˜åŒ–**
   - è§†é¢‘é¢„åŠ è½½
   - é—®é¢˜æ•°æ®æ‡’åŠ è½½

2. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**
   - éŸ³æ•ˆåé¦ˆ
   - åŠ¨ç”»æ•ˆæœå¢å¼º
   - ä¸»é¢˜åˆ‡æ¢

---

## åä¸‰ã€æ€»ç»“

æœ¬æ–‡æ¡£è¯¦ç»†è§„åˆ’äº†è§†é¢‘ç²’å­ç‰¹æ•ˆé—®ç­”æ¸¸æˆçš„å¼€å‘ï¼ŒåŒ…æ‹¬åŠŸèƒ½éœ€æ±‚ã€æ•°æ®ç»“æ„ã€UIè®¾è®¡ã€æŠ€æœ¯æ¶æ„ã€ä»£ç ç¤ºä¾‹ç­‰ã€‚æŒ‰ç…§æ­¤æ–‡æ¡£è¿›è¡Œå¼€å‘ï¼Œå¯ä»¥å¿«é€Ÿå®ç°ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„é—®ç­”æ¸¸æˆç³»ç»Ÿã€‚

**å…³é”®è¦ç‚¹**ï¼š
- å¤ç”¨ç°æœ‰çš„ `ShaderVideoParticle` ç»„ä»¶
- ä½¿ç”¨ React Hooks ç®¡ç†æ¸¸æˆçŠ¶æ€
- åœ¨æŒ‡å®šæ—¶é—´ç‚¹è§¦å‘é—®é¢˜
- å®ç°å®Œæ•´çš„è®¡åˆ†å’Œæ€»ç»“ç³»ç»Ÿ
- æ³¨é‡ç”¨æˆ·ä½“éªŒå’Œäº¤äº’åé¦ˆ

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0  
**åˆ›å»ºæ—¥æœŸ**ï¼š2024å¹´  
**æœ€åæ›´æ–°**ï¼š2024å¹´
